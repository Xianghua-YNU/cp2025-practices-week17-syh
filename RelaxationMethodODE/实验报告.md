![4-1](https://github.com/user-attachments/assets/700b3d77-62c4-4001-a6ca-37a0cf46eb2f)# 项目：常微分方程的松弛迭代法 - 实验报告

**学生姓名：** [姓名] **学号：** [学号] **完成日期：** [日期]

## 1. 实验目的

学习松弛迭代法求解常微分方程边值问题，通过抛体运动实例掌握数值方法的实现。

## 2. 核心算法

### 2.1 算法思路

使用二阶中心差分近似二阶导数，将微分方程转化为差分方程，然后通过松弛迭代法求解边值问题。

### 2.2 关键代码片段

```python
# 松弛迭代核心代码
while delta > tol:
    x_new = np.copy(x)
    x_new[1:-1] = 0.5 * (h * h * g + x[2:] + x[:-2])
    delta = np.max(np.abs(x_new - x))
    x = x_new
```

## 3. 实验结果

### 3.1 主要输出

- 最大高度：[122.5] m
- 到达最大高度时间：[5.0] s
- 迭代收敛次数：[10000] 次

### 3.2 结果验证

- 边界条件满足：x(0) = 0, x(10) = 0
- 轨迹对称性：关于 t = 5s 对称
- 物理合理性：抛体轨迹呈抛物线形状
![4-1](https://github.com/user-attachments/assets/0019e50b-7969-4f03-b09c-b91c1b7ec424)

## 4. 问题与收获

### 4.1 主要问题

1. 收敛条件的设置
2. 迭代公式的正确实现

### 4.2 解决方法

1. 使用最大变化量作为收敛判据
2. 仔细处理数组索引，确保边界条件

### 4.3 主要收获

通过本实验掌握了松弛迭代法的基本原理，理解了边值问题与初值问题的区别，学会了用数值方法求解物理问题。

## 5. 思考题（可选）

1. 为什么松弛法适合求解边值问题而不是初值问题？

边值问题特点：需同时满足多个边界条件（如 \(x(0)=0\) 和 \(x(10)=0\)），解的约束是全局的（需协调所有点的取值）。松弛法通过迭代调整所有内部点，逐步满足差分方程与边界条件，天然适配全局约束。

初值问题特点：仅需初始条件（如 \(x(0)\)、\(x'(0)\)），解的演化是局部递推的（可通过欧拉法、龙格 - 库塔法等逐步计算 \(x(t+\Delta t)\)）。松弛法的全局迭代对初值问题 “局部递推” 需求而言，计算效率低且无必要。

2. 如何选择合适的收敛容差和最大迭代次数？

收敛容差 tol：

需平衡精度需求与计算成本：若物理问题对精度要求高（如工程仿真），可设 tol=1e-8；若仅验证趋势，tol=1e-4 即可。

参考离散误差：时间步长 h 越小，离散误差越低，可配合减小 tol 提升精度。

最大迭代次数 max_iter：

需覆盖收敛所需迭代范围：先通过测试（如小 h、严 tol 时）统计收敛次数，再适当放大（如 2~3 倍）避免过早终止。

结合计算资源：若迭代耗时过长（如 h=0.01 时可能需数万次迭代），需权衡精度与效率，必要时优化算法（如 SOR 加速）。
